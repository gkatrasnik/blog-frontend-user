(this["webpackJsonpblog-frontend-user"]=this["webpackJsonpblog-frontend-user"]||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(11),r=n.n(o),s=(n(40),n(41),n(42),n(66)),i=n(67),l=n(7),j=n(69),u=n(70),b=n(68),d=n(13),m=n.n(d),h=n(1);var x=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],x=Object(c.useState)(""),O=Object(l.a)(x,2),f=O[0],p=O[1],g=e.item.comments;return Object(h.jsx)(j.a,{style:{width:"80%",maxWidth:"32rem",margin:"20px"},children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)(j.a.Title,{className:"text-center",children:e.item.title}),Object(h.jsxs)(j.a.Subtitle,{className:"mb-2 text-muted",children:["Author: ",e.item.user.username]}),Object(h.jsx)(j.a.Text,{children:e.item.content}),Object(h.jsx)("br",{}),Object(h.jsx)(j.a.Text,{children:"Comments:"}),g.map((function(e,t){return Object(h.jsxs)(j.a.Text,{comment:e,children:[e.author,": ",e.title,e.content]},t)})),Object(h.jsx)(u.a,{variant:"primary",className:"float-end, my-2",onClick:function(){o(!a)},children:"Comment"}),a&&Object(h.jsxs)(b.a,{onSubmit:function(t){if(t.preventDefault(),i&&f){var n=e.item._id;m.a.post("/api/posts/".concat(n,"/comments/"),{author:i,content:f}).then((function(t){d(""),p(""),o(!a),e.getPostsData()}),(function(e){console.log(e)}))}else alert("Author or Comment can not be empty!")},children:[Object(h.jsxs)(b.a.Group,{className:"mb-3",controlId:"author",children:[Object(h.jsx)(b.a.Label,{children:"Author"}),Object(h.jsx)(b.a.Control,{type:"text",placeholder:"enter your nickname",value:i,onChange:function(e){d(e.target.value)}})]}),Object(h.jsxs)(b.a.Group,{className:"mb-3",controlId:"content",children:[Object(h.jsx)(b.a.Label,{children:"Text"}),Object(h.jsx)(b.a.Control,{type:"text",placeholder:"Type your comment",value:f,onChange:function(e){p(e.target.value)}})]}),Object(h.jsx)(u.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})};var O=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],j=s[1];Object(c.useEffect)((function(){u()}),[]);var u=function(){j(!0),m.a.get("/api/posts").then((function(e){o(e.data),j(!1)})).catch((function(e){console.log(e)}))};return Object(h.jsxs)(h.Fragment,{children:[i&&Object(h.jsx)("h2",{style:{textAlign:"center",marginTop:"20px"},children:'"Loading Posts..."'}),Object(h.jsx)("ul",{style:{padding:0},children:a.map((function(e,t){return Object(h.jsx)("li",{className:"d-flex flex-direction-column justify-content-center",children:Object(h.jsx)(x,{getPostsData:u,item:e,index:t})},t)}))})]})};var f=function(){return Object(h.jsxs)(s.a,{fluid:!0,children:[Object(h.jsx)(i.a,{style:{borderBottom:"1px solid black"},children:Object(h.jsx)(s.a,{children:Object(h.jsx)(i.a.Brand,{children:Object(h.jsx)("h3",{children:"My Blog"})})})}),Object(h.jsx)(O,{})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};m.a.defaults.baseURL="https://obscure-temple-20965.herokuapp.com",r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root")),p()}},[[64,1,2]]]);
//# sourceMappingURL=main.75377a86.chunk.js.map